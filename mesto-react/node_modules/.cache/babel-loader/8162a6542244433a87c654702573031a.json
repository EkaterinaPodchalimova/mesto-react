{"ast":null,"code":"import React from \"react\";\n\nclass Api extends React.Component {\n  constructor(props) {\n    super(props);\n    this._baseUrl = props.baseUrl;\n    this._authorization = props.headers.authorization;\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: {\n        authorization: `${this._authorization}`\n      }\n    }).then(res => this._getStatus(res));\n  }\n\n  getUserInformation() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: {\n        authorization: `${this._authorization}`\n      }\n    }).then(res => this._getStatus(res));\n  }\n\n  setUserInformation(_ref) {\n    let {\n      name,\n      about\n    } = _ref;\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        authorization: `${this._authorization}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: `${name}`,\n        about: `${about}`\n      })\n    }).then(res => this._getStatus(res));\n  }\n\n  postNewCard(_ref2) {\n    let {\n      name,\n      link\n    } = _ref2;\n    return fetch(`${this._baseUrl}/cards`, {\n      method: 'POST',\n      headers: {\n        authorization: `${this._authorization}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        name: `${name}`,\n        link: `${link}`\n      })\n    }).then(res => this._getStatus(res));\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id}`, {\n      method: 'DELETE',\n      headers: {\n        authorization: `${this._authorization}`,\n        'Content-Type': 'application/json'\n      }\n    }).then(res => this._getStatus(res));\n  }\n\n  addLike(id) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: 'PUT',\n      headers: {\n        authorization: `${this._authorization}`,\n        'Content-Type': 'application/json'\n      }\n    }).then(res => this._getStatus(res));\n  }\n\n  deleteLike(id) {\n    return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n      method: 'DELETE',\n      headers: {\n        authorization: `${this._authorization}`,\n        'Content-Type': 'application/json'\n      }\n    }).then(res => this._getStatus(res));\n  }\n\n  editAvatar(avatar) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        authorization: `${this._authorization}`,\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({\n        avatar: avatar\n      })\n    }).then(res => this._getStatus(res));\n  }\n\n  _getStatus(res) {\n    if (res.ok) {\n      return res.json();\n    }\n\n    return Promise.reject(`Ошибка: ${res.status}`);\n  } // другие методы работы с API\n\n\n}\n\nexport default Api;","map":{"version":3,"names":["React","Api","Component","constructor","props","_baseUrl","baseUrl","_authorization","headers","authorization","getInitialCards","fetch","then","res","_getStatus","getUserInformation","setUserInformation","name","about","method","body","JSON","stringify","postNewCard","link","deleteCard","id","addLike","deleteLike","editAvatar","avatar","ok","json","Promise","reject","status"],"sources":["/Users/ekaterinapodchalimova/Desktop/mesto-react/mesto-react/src/utils/Api.js"],"sourcesContent":["import React from \"react\";\n\nclass Api extends React.Component {\n    constructor(props) {\n        super(props);\n        this._baseUrl = props.baseUrl;\n        this._authorization = props.headers.authorization;\n    }\n\n    getInitialCards() {\n        return fetch(`${this._baseUrl}/cards`, {\n            headers: {\n                authorization: `${this._authorization}`\n            }\n        })\n            .then(res => this._getStatus(res));\n    }\n\n    getUserInformation() {\n        return fetch (`${this._baseUrl}/users/me`, {\n            headers: {\n                authorization: `${this._authorization}`\n            }\n        })\n            .then(res => this._getStatus(res));\n    }\n\n    setUserInformation({name , about}) {\n        return fetch(`${this._baseUrl}/users/me`, {\n            method: 'PATCH',\n            headers: {\n                authorization: `${this._authorization}`,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                name: `${name}`,\n                about: `${about}`\n            })\n        })\n            .then(res => this._getStatus(res));\n    }\n\n    postNewCard({name, link}) {\n        return fetch(`${this._baseUrl}/cards`, {\n            method: 'POST',\n            headers: {\n                authorization: `${this._authorization}`,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                name: `${name}`,\n                link: `${link}`\n            })\n        })\n            .then(res => this._getStatus(res));\n    }\n\n    deleteCard(id) {\n        return fetch(`${this._baseUrl}/cards/${id}`, {\n            method: 'DELETE',\n            headers: {\n                authorization: `${this._authorization}`,\n                'Content-Type': 'application/json'\n            }\n        })\n            .then(res => this._getStatus(res));\n    }\n\n    addLike(id) {\n        return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n            method: 'PUT',\n            headers: {\n                authorization: `${this._authorization}`,\n                'Content-Type': 'application/json'\n            }\n        })\n            .then(res => this._getStatus(res));\n    }\n\n    deleteLike(id) {\n        return fetch(`${this._baseUrl}/cards/${id}/likes`, {\n            method: 'DELETE',\n            headers: {\n                authorization: `${this._authorization}`,\n                'Content-Type': 'application/json'\n            }\n        })\n            .then(res => this._getStatus(res));\n    }\n\n    editAvatar(avatar) {\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\n            method: 'PATCH',\n            headers: {\n                authorization: `${this._authorization}`,\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                avatar: avatar\n            })\n        })\n            .then(res => this._getStatus(res));\n    }\n\n    _getStatus(res) {\n        if (res.ok) {\n            return res.json();\n        }\n        return Promise.reject(`Ошибка: ${res.status}`);\n    }\n\n    // другие методы работы с API\n}\n\n export default Api;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}